<div class="reports">
    <div class="content">
        <div class="user-content">
            <!-- <div class="Floor-container row">           
                <div class="col-4">
                    <table class="table table-bordered floor-table1">
                        <thead>
                            <tr>
                                <th>SRR1</th>
                                <th>100/200</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Floor 1</td>
                                <td>30/40</td>
                            </tr>
                            <tr>
                                <td>Floor 2</td>
                                <td>35/35</td>
                            </tr>
                            <tr>   
                                <td>Floor 3</td>
                                <td>20/25</td>
                            </tr>
                        </tbody> 
                    </table>
                </div>
                          
                <div class="col-3">
                    <table class="table table-bordered floor-table2">
                        <thead>
                            <tr>
                                <th>SRR2</th>
                                <th>100/200</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Floor 1</td>
                                <td>30/40</td>
                            </tr>
                            <tr>
                                <td>Floor 2</td>
                                <td>35/35</td>
                            </tr>
                            <tr>   
                                <td>Floor 3</td>
                                <td>20/25</td>
                            </tr>
                        </tbody>
                       
                    </table> 
                </div>    
              
                <div class="col-4">
                    <table class="table table-bordered floor-table3">
                        <thead>
                            <tr>
                                <th>SRR2</th>
                                <th>100/200</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Floor 1</td>
                                <td>30/40</td>
                            </tr>
                            <tr>
                                <td>Floor 2</td>
                                <td>35/35</td>
                            </tr>
                            <tr>   
                                <td>Floor 3</td>
                                <td>20/25</td>
                            </tr>
                        </tbody>                      
                    </table>
                </div>              
            </div> -->


            <!-- ******* Labwise chart  ******* -->
            <div class="chart-block-title">
                <div class="row" #fullscreen>
                    <div class="col-2">
                        <div class="caption">
                            <i class="fa fa-chart-bar fa-2x barchart-icon"></i>
                            <span class="chart-heading">Labwise Allocated</span>
                        </div>
                    </div>
                    <div class="col-2 float_left"
                        [ngStyle]="setIconPossition ? {'margin-left': '75% !important'} : {'display':'none'} ">
                        <!-- <select class="form-select location_select" aria-label="Default select example">
                    <option>SRR1</option>
                    <option>SRR2</option>
                    <option>SRR3</option>
                </select> -->
                        <select class="form-select location_select" aria-label="Default select example"
                            [(ngModel)]="lab" (change)="labChange()">
                            <!-- <option value="" disabled selected>-- Select Lab --</option> -->
                            <option *ngFor="let labdata of labList?.Data" [ngValue]="labdata">
                                {{labdata}}
                            </option>
                            <!-- <option>Admin</option>
                    <option>Super Admin</option>
                    <option>Manager</option> -->
                        </select>
                    </div>
                    <div class="col-2 float-program"
                        [ngStyle]="setIconPossition ? {'margin-left': '75% !important'} : {'display':'none'} ">
                        <select class="form-select location_select" aria-label="Default select example"
                            [(ngModel)]="program" (change)="programChange()">
                            <!-- <option value="" disabled selected>-- All Program --</option> -->
                            <option value="All">All</option>
                            <!-- <option value="">
                        All
                    </option> -->
                            <option *ngFor="let prgmdata of prgmList" [ngValue]="prgmdata">
                                {{prgmdata}}
                            </option>
                            <!-- <option>-- All Program --</option>
                    <option>ADL-P</option>
                    <option>MTL-P</option>
                    <option>RPL-S</option> -->
                        </select>
                    </div>
                    <div class="col-2 float-vendor"
                        [ngStyle]="setIconPossition ? {'margin-left': '75% !important'} : {'display':'none'} ">
                        <select class="form-select location_select" aria-label="Default select example"
                            [(ngModel)]="vendor" (change)="vendorChange()">
                            <option value="All">All</option>
                            <!-- <option value="" disabled selected>-- All Vendor --</option> -->
                            <!-- <option value="">
                        All
                    </option> -->
                            <option *ngFor="let vendordata of vendorList" [ngValue]="vendordata">
                                {{vendordata}}
                            </option>
                            <!-- <option>-- All Vendor --</option>
                    <option> UST</option>
                    <option>Wipro</option>
                    <option>Infosys</option> -->
                        </select>
                    </div>

                    <!-- ******* Labwise chart and table view options ******* -->
                    <div class="btn-row mr-2 col-2"
                        [ngStyle]="setIconPossition ? {'margin-left': '75% !important'} : {'display':'none'} ">
                        <div class="btn-dv2" [ngClass]="Labtype == 'Lab chart' ? 'active-btn' : ''"
                            (click)="ChangeOption('Labchart')">
                            <i class="fa fa-chart-bar fa-2x chart-icon"></i>
                        </div>
                        <div class="btn-dv" [ngClass]="Labtype == 'Lab table' ? 'active-btn' : ''"
                            (click)="ChangeOption('Labtable')">
                            <i class="fas fa-table chart-icon"></i>
                        </div>
                    </div>

                    <!-- ******* Fullscreen options ******* -->
                    <!--  <div class="col-2 float_left-info">
                <i class="fas fa-expand expand-display fullscreen-icon" matTooltip="Fullscreen"
                    (click)="toggleFullScreen();" fullscreenmode [FullScreenView]="fullscreen"></i>
                <i class="fas fa-compress remove-display" (click)="toggleFullScreen();" fullscreenmode
                    [FullScreenView]="fullscreen"></i>
            </div> -->
                    <hr class="box-hr">

                    <!-- ******* Labwise chart view  ******* -->
                    <div class="chart-item after-fullscreen" *ngIf="Labtype == 'Lab chart'">
                        <app-labwise-alloted-chart-component
                            [widget]="ChartData1"></app-labwise-alloted-chart-component>
                    </div>

                    <!-- ******* Labwise chart table view ******* -->
                    <div class="table-container">
                        <table class="table table-bordered piechart-table" *ngIf="Labtype == 'Lab table'">
                            <thead>
                                <tr>
                                    <th class="v-align">#</th>
                                    <th class="v-align" (click)="setOrderRelease('Data')"><span class="sort-by">Lab
                                            Name</span>
                                    </th>
                                    <th class="v-align" (click)="setOrderRelease('Value')"><span
                                            class="sort-by">Allocated</span></th>
                                    <th class="v-align" (click)="setOrderRelease('Value')"><span
                                            class="sort-by">Free</span></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr
                                    *ngFor="let ele of ChartData1 | orderBy: orderMappedRelease:reverseMappedRelease: true ;let i=index">
                                    <td>{{i+1}}</td>
                                    <td>{{ele.Category}}</td>
                                    <td>{{ele.Allocated}}</td>
                                    <td>{{ele.Free}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="table-container" *ngIf="reportData?.length">
                <div class="search-bar col-12">
                    <div class="input-group">
                        <input type="search" name="search" placeholder="Search any field"
                            class="form-control shadow-none" aria-label="search" [(ngModel)]="searchText">
                        <div class="input-group-append">
                            <button type="submit" class="btn save-btn"><i class="fas fa-search"></i></button>
                        </div>
                    </div>
                </div>
                <div class="downloadbtn">
                    <button class="btn download-btn" (click)="exportFile()">
                        <i class="fas fa-download i-download"></i>Download</button>
                </div>
                <table class="table table-bordered user-table" *ngIf="reportdataLoader">
                    <thead>
                        <tr>
                            <th class="v-align">#</th>
                            <th class="v-align" (click)="setOrderRelease('Lab Details')"><span class="sort-by"
                                    [ngbTooltip]="testTrendSearch" placement="top" tooltipClass="custom-tooltip"
                                    [autoClose]="false" triggers="manual" #ts1="ngbTooltip"
                                    (click)="showTestTrendSearch(ts1)">
                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Lab Details</span>
                            </th>

                            <th class="v-align" (click)="setOrderRelease('Team')"><span class="sort-by"
                                    [ngbTooltip]="teamSearch" placement="top" tooltipClass="custom-tooltip"
                                    [autoClose]="false" triggers="manual" #ts10="ngbTooltip"
                                    (click)="showTestTrendSearch(ts10)">
                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Team</span>
                            </th>

                            <th class="v-align" (click)="setOrderRelease('#Bench')"><span class="sort-by"
                                    [ngbTooltip]="benchSearch" placement="top" tooltipClass="custom-tooltip"
                                    [autoClose]="false" triggers="manual" #ts8="ngbTooltip"
                                    (click)="showTestTrendSearch(ts8)">
                                    <i class="fas fa-search"></i>&nbsp;&nbsp;#Bench</span>
                            </th>

                            <th class="v-align" (click)="setOrderRelease('Benchdetails')"><span class="sort-by"
                                    [ngbTooltip]="detailsSearch" placement="top" tooltipClass="custom-tooltip"
                                    [autoClose]="false" triggers="manual" #ts11="ngbTooltip"
                                    (click)="showTestTrendSearch(ts11)">
                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Bench Details</span>
                            </th>

                            <th class="v-align" (click)="setOrderRelease('program')"><span class="sort-by"
                                    [ngbTooltip]="programSearch" placement="top" tooltipClass="custom-tooltip"
                                    [autoClose]="false" triggers="manual" #ts2="ngbTooltip"
                                    (click)="showTestTrendSearch(ts2)">
                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Program</span>
                            </th>

                            <th class="v-align" (click)="setOrderRelease('SKU')"><span class="sort-by"
                                    [ngbTooltip]="skuSearch" placement="top" tooltipClass="custom-tooltip"
                                    [autoClose]="false" triggers="manual" #ts3="ngbTooltip"
                                    (click)="showTestTrendSearch(ts3)">
                                    <i class="fas fa-search"></i>&nbsp;&nbsp;SKU</span>
                            </th>

                            <th class="v-align" (click)="setOrderRelease('Vendor')"><span class="sort-by"
                                    [ngbTooltip]="vendorSearch" placement="top" tooltipClass="custom-tooltip"
                                    [autoClose]="false" triggers="manual" #ts4="ngbTooltip"
                                    (click)="showTestTrendSearch(ts4)">
                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Vendor</span>
                            </th>

                            <th class="v-align" (click)="setOrderRelease('Allocated To')"><span class="sort-by"
                                    [ngbTooltip]="allocatedSearch" placement="top" tooltipClass="custom-tooltip"
                                    [autoClose]="false" triggers="manual" #ts5="ngbTooltip"
                                    (click)="showTestTrendSearch(ts5)">
                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Allocated To</span>
                            </th>

                            <th class="v-align" (click)="setOrderRelease('From WW')"><span class="sort-by"
                                    [ngbTooltip]="fromWWSearch" placement="top" tooltipClass="custom-tooltip"
                                    [autoClose]="false" triggers="manual" #ts6="ngbTooltip"
                                    (click)="showTestTrendSearch(ts6)">
                                    <i class="fas fa-search"></i>&nbsp;&nbsp;From WW</span>
                            </th>

                            <th class="v-align" (click)="setOrderRelease('To WW')"><span class="sort-by"
                                    [ngbTooltip]="toWWSearch" placement="top" tooltipClass="custom-tooltip"
                                    [autoClose]="false" triggers="manual" #ts7="ngbTooltip"
                                    (click)="showTestTrendSearch(ts7)">
                                    <i class="fas fa-search"></i>&nbsp;&nbsp;To WW</span>
                            </th>

                            <th class="v-align" (click)="setOrderRelease('Duration')"><span class="sort-by"
                                    [ngbTooltip]="durationSearch" placement="top" tooltipClass="custom-tooltip"
                                    [autoClose]="false" triggers="manual" #ts9="ngbTooltip"
                                    (click)="showTestTrendSearch(ts9)">
                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Duration</span>
                            </th>
                            <th class="v-align">Remarks</th>
                            <th class="v-align" (click)="setOrderRelease('Approved By')"><span class="sort-by"
                                    [ngbTooltip]="ApprovedBySearch" placement="top" tooltipClass="custom-tooltip"
                                    [autoClose]="false" triggers="manual" #ts16="ngbTooltip"
                                    (click)="showTestTrendSearch(ts16)">
                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Approved By</span></th>
                            <!-- <th class="v-align"><input class="form-check-input chcekbox-style" type="checkbox" value="" id="flexCheckChecked"/>Select All</th> -->
                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            *ngFor="let data of reportData | searchFilter: searchText | searchFilterLocation: searchLocation | searchFilterTeam: searchTeam | searchFilterProgram: searchProgram |  searchFilterSku: searchSku | searchFilterVendor : searchVendor | searchFilterAllocated : searchAllocated | searchFilterFromWW : searchfromWW | searchFilterToWW : searchtoWW | searchFilterBench : searchBench | searchFilterDetails : searchBenchDetails | searchFilterDuration : searchDuration | searchFilterApprovedBy : searchApprovedBy  let i=index">
                            <td>{{i+1}}</td>
                            <td>{{data.Location__Name}}</td>
                            <td>{{data.Team}}</td>
                            <td>{{data.BenchData?.length}}</td>
                            <td>{{data.BenchData}}</td>
                            <td>{{data.Program}}</td>
                            <td>{{data.Sku}}</td>
                            <td>{{data.Vendor}}</td>
                            <td>{{data.AllocatedTo[0].Name }}</td>
                            <!-- <td *ngIf="data.AllocatedTo.length > 0">{{ data.AllocatedTo[0].Name }}</td> -->
                            <td>{{data.FromWW | ww: 10}}</td>
                            <td>{{data.ToWW | ww: 10}}</td>
                            <td>{{data.Duration}}</td>
                            <td>{{data.Remarks}}</td>
                            <td>{{data.approvedBy}}</td>
                            <!-- <td><input class="form-check-input chcekbox-style" type="checkbox" value="" id="flexCheckChecked"/></td> -->
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- No data available display -->
            <div class="no_data_block_display" *ngIf="reportData?.length == 0">
                <h2 class="mt-2">No Data Available</h2>
            </div>
        </div>
    </div>
</div>

<ng-template #testTrendSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchLocation" placeholder="Search Location" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchLocation !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #teamSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchTeam" placeholder="Search Team" type="text" class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchTeam !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #programSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchProgram" placeholder="Search Program" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchProgram !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #skuSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchSku" placeholder="Search SKU" type="text" class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchSku !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #vendorSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchVendor" placeholder="Search Vendor" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchVendor !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #allocatedSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchAllocated" placeholder="Search Allocated" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchAllocated !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #fromWWSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchfromWW" placeholder="Search FromWW" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchfromWW !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #toWWSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchtoWW" placeholder="Search ToWW" type="text" class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchtoWW !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #benchSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchBench" placeholder="Search Bench" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchBench !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #detailsSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchBenchDetails" placeholder="Search BenchDetails" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchBenchDetails !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #durationSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchDuration" placeholder="Search Duration" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchDuration !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>
<ng-template #ApprovedBySearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchApprovedBy" placeholder="Search ApprovedBy" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchApprovedBy !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<!-- ****** loader option ****** -->
<div class="overlay-main" *ngIf="!reportdataLoader">
    <div class="spinner-container">

        <div class="spinner">
            <div class="rect1"></div>
            <div class="rect2"></div>
            <div class="rect3"></div>
            <div class="rect4"></div>
            <div class="rect5"></div>
            <div class="rect6"></div>
            <div class="rect7"></div>
            <div class="rect8"></div>
            <div class="rect9"></div>
        </div>
        <div class="proccessing-text">Loading ...</div>
    </div>
</div>