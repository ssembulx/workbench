<div class="users">
    <div class="content">
        <div class="user-content">
            <div style="display: inline-flex;">
                <div class="btn-dv2" [ngClass]="typeChart == 'WorkWeek chart' ? 'active-btn' : ''"
                    (click)="Options('WorkWeek')">
                    Work Week Summary
                </div>
                <div class="btn-dv2" [ngClass]="typeChart == 'Location chart' ? 'active-btn' : ''"
                    (click)="Options('Allocation')">
                    Bench Summary
                </div>
                <div class="btn-dv" [ngClass]="typeChart == 'Program chart' ? 'active-btn' : ''"
                    (click)="Options('Deallocation')">
                    Program Summary
                </div>
            </div>
            <!-- Work week summary -->
            <div class="col-12" [hidden]="typeChart != 'WorkWeek chart'">
                <div class="content p-0 m-0" style=" width: 100%;">
                    <div class="row charts-content">

                        <!-- ******* Semi circle pie chart ******* -->
                        <div class="semi-pie-chart col-12 mb-0" #fullscreenPie>
                            <div>
                                <div class="chart-style">
                                    <div class="caption">
                                        <i class="fa fa-chart-bar fa-2x chart-icon"></i>
                                        <span class="chart-heading">Work Week Summary Chart</span>
                                    </div>
                                    <!--  <i class="fa fa-download  fa-2x chart-icon" aria-hidden="true"
                                    style="color: #9eacb4;font-size: 22px;margin-top: -1px;margin-left: 7px;cursor: pointer;"></i> -->
                                </div>
                            </div>

                            <hr class="box-hr">

                            <!-- ******* Labwise chart table view *******  -->
                            <div id="chartdiv1"></div>

                        </div>
                        <!-- No data available display -->
                        <!--   <div class="no_data_block_display" *ngIf='ChartData?.length == 0'>
                        <h2 class="mt-2">No Data Available</h2>
                    </div> -->
                    </div>
                    <br />
                </div>
                <div style="margin-top: -2rem!important;">
                    <div class="row charts-content">

                        <!-- ******* Semi circle pie chart ******* -->
                        <div class="semi-pie-chart col-12" #fullscreenPie>
                            <div>
                                <div class="chart-style">
                                    <div class="caption">
                                        <i class="fa fa-table fa-2x chart-icon"></i>
                                        <span class="chart-heading">Allocated Bench Details</span>
                                    </div>
                                    <i class="fa fa-download  fa-2x chart-icon" aria-hidden="true"
                                        (click)="downloadallocatedListbench()"
                                        style="color: #9eacb4;font-size: 22px;margin-top: -1px;margin-left: 7px;cursor: pointer;"></i>
                                </div>
                            </div>

                            <hr class="box-hr">

                            <!-- ******* Labwise chart table view *******  -->
                            <div class="table-container">
                                <table class="table table-bordered user-table ">
                                    <thead>
                                        <tr>
                                            <th class="v-align">#</th>
                                            <th class="v-align" (click)="setOrderRelease('Lab Details')"><span
                                                    class="sort-by" [ngbTooltip]="testTrendSearch" placement="top"
                                                    tooltipClass="custom-tooltip" [autoClose]="false" triggers="manual"
                                                    #ts1="ngbTooltip" (click)="showTestTrendSearch(ts1)">
                                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Lab Details</span>
                                            </th>

                                            <th class="v-align" (click)="setOrderRelease('Team')"><span class="sort-by"
                                                    [ngbTooltip]="teamSearch" placement="top"
                                                    tooltipClass="custom-tooltip" [autoClose]="false" triggers="manual"
                                                    #ts10="ngbTooltip" (click)="showTestTrendSearch(ts10)">
                                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Team</span>
                                            </th>

                                            <th class="v-align" (click)="setOrderRelease('#Bench')"><span
                                                    class="sort-by" [ngbTooltip]="benchSearch" placement="top"
                                                    tooltipClass="custom-tooltip" [autoClose]="false" triggers="manual"
                                                    #ts8="ngbTooltip" (click)="showTestTrendSearch(ts8)">
                                                    <i class="fas fa-search"></i>&nbsp;&nbsp;#Bench</span>
                                            </th>

                                            <th class="v-align" (click)="setOrderRelease('Benchdetails')"><span
                                                    class="sort-by" [ngbTooltip]="detailsSearch" placement="top"
                                                    tooltipClass="custom-tooltip" [autoClose]="false" triggers="manual"
                                                    #ts11="ngbTooltip" (click)="showTestTrendSearch(ts11)">
                                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Bench Details</span>
                                            </th>

                                            <th class="v-align" (click)="setOrderRelease('program')"><span
                                                    class="sort-by" [ngbTooltip]="programSearch" placement="top"
                                                    tooltipClass="custom-tooltip" [autoClose]="false" triggers="manual"
                                                    #ts2="ngbTooltip" (click)="showTestTrendSearch(ts2)">
                                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Program</span>
                                            </th>

                                            <th class="v-align" (click)="setOrderRelease('SKU')"><span class="sort-by"
                                                    [ngbTooltip]="skuSearch" placement="top"
                                                    tooltipClass="custom-tooltip" [autoClose]="false" triggers="manual"
                                                    #ts3="ngbTooltip" (click)="showTestTrendSearch(ts3)">
                                                    <i class="fas fa-search"></i>&nbsp;&nbsp;SKU</span>
                                            </th>

                                            <th class="v-align" (click)="setOrderRelease('Vendor')"><span
                                                    class="sort-by" [ngbTooltip]="vendorSearch" placement="top"
                                                    tooltipClass="custom-tooltip" [autoClose]="false" triggers="manual"
                                                    #ts4="ngbTooltip" (click)="showTestTrendSearch(ts4)">
                                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Vendor</span>
                                            </th>

                                            <th class="v-align" (click)="setOrderRelease('Allocated To')"><span
                                                    class="sort-by" [ngbTooltip]="allocatedSearch" placement="top"
                                                    tooltipClass="custom-tooltip" [autoClose]="false" triggers="manual"
                                                    #ts5="ngbTooltip" (click)="showTestTrendSearch(ts5)">
                                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Allocated To</span>
                                            </th>

                                            <th class="v-align" (click)="setOrderRelease('From WW')"><span
                                                    class="sort-by" [ngbTooltip]="fromWWSearch" placement="top"
                                                    tooltipClass="custom-tooltip" [autoClose]="false" triggers="manual"
                                                    #ts6="ngbTooltip" (click)="showTestTrendSearch(ts6)">
                                                    <i class="fas fa-search"></i>&nbsp;&nbsp;From WW</span>
                                            </th>

                                            <th class="v-align" (click)="setOrderRelease('To WW')"><span class="sort-by"
                                                    [ngbTooltip]="toWWSearch" placement="top"
                                                    tooltipClass="custom-tooltip" [autoClose]="false" triggers="manual"
                                                    #ts7="ngbTooltip" (click)="showTestTrendSearch(ts7)">
                                                    <i class="fas fa-search"></i>&nbsp;&nbsp;To WW</span>
                                            </th>

                                            <th class="v-align" (click)="setOrderRelease('Duration')"><span
                                                    class="sort-by" [ngbTooltip]="durationSearch" placement="top"
                                                    tooltipClass="custom-tooltip" [autoClose]="false" triggers="manual"
                                                    #ts9="ngbTooltip" (click)="showTestTrendSearch(ts9)">
                                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Duration</span>
                                            </th>
                                            <th class="v-align">Remarks</th>
                                            <th class="v-align" (click)="setOrderRelease('Approved By')"><span
                                                    class="sort-by" [ngbTooltip]="ApprovedBySearch" placement="top"
                                                    tooltipClass="custom-tooltip" [autoClose]="false" triggers="manual"
                                                    #ts16="ngbTooltip" (click)="showTestTrendSearch(ts16)">
                                                    <i class="fas fa-search"></i>&nbsp;&nbsp;Approved By</span></th>
                                            <!-- <th class="v-align"><input class="form-check-input chcekbox-style" type="checkbox" value="" id="flexCheckChecked"/>Select All</th> -->
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let data of tableData | searchFilter: searchText | searchFilterLocation: searchLocation | searchFilterTeam: searchTeam | searchFilterProgram: searchProgram |  searchFilterSku: searchSku | searchFilterVendor : searchVendor | searchFilterFromWW : searchfromWW | searchFilterToWW : searchtoWW | searchFilterBench : searchBench | searchFilterDetails : searchBenchDetails | searchFilterDuration : searchDuration | searchFilterApprovedBy : searchApprovedBy  let i=index">
                                            <td>{{i+1}}</td>
                                            <td>{{data.Location__Name}}</td>
                                            <td>{{data.Team}}</td>
                                            <td>{{data.BenchData?.length}}</td>
                                            <td>{{data.BenchData}}</td>
                                            <td>{{data.Program}}</td>
                                            <td>{{data.Sku}}</td>
                                            <td>{{data.Vendor}}</td>
                                            <td>{{data.AllocatedTo[0].Name }}</td>
                                            <!-- <td *ngIf="data.AllocatedTo.length > 0">{{ data.AllocatedTo[0].Name }}</td> -->
                                            <td>{{data.FromWW | ww: 10}}</td>
                                            <td>{{data.ToWW | ww: 10}}</td>
                                            <td>{{data.Duration}}</td>
                                            <td>{{data.Remarks}}</td>
                                            <td>{{data.approvedBy}}</td>
                                            <!-- <td><input class="form-check-input chcekbox-style" type="checkbox" value="" id="flexCheckChecked"/></td> -->
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                        <!-- No data available display -->
                        <div class="no_data_block_display" *ngIf='tableData?.length == 0'>
                            <h2 class="mt-2">No Data Available</h2>
                        </div>
                    </div>
                    <br />
                </div>
            </div>
            <!-- Bench Summary -->
            <div class="col-12" [hidden]="typeChart != 'Location chart'">
            
            </div>
            <!-- Program Summary -->
            <div class="col-12" [hidden]="typeChart != 'Program chart'">

            </div>
        </div>
    </div>
</div>

<ng-template #testTrendSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchLocation" placeholder="Search Location" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchLocation !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #teamSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchTeam" placeholder="Search Team" type="text" class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchTeam !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #programSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchProgram" placeholder="Search Program" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchProgram !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #skuSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchSku" placeholder="Search SKU" type="text" class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchSku !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #vendorSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchVendor" placeholder="Search Vendor" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchVendor !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #allocatedSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchAllocated" placeholder="Search Allocated" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchAllocated !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #fromWWSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchfromWW" placeholder="Search FromWW" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchfromWW !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #toWWSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchtoWW" placeholder="Search ToWW" type="text" class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchtoWW !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #benchSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchBench" placeholder="Search Bench" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchBench !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #detailsSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchBenchDetails" placeholder="Search BenchDetails" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchBenchDetails !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>

<ng-template #durationSearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchDuration" placeholder="Search Duration" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchDuration !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>
<ng-template #ApprovedBySearch>
    <div class="search-tooltip">
        <div class="tooltip-header">
            <i class="fas fa-times close-tooltip" (click)="hideTestTrendSearch()"></i>
        </div>
        <div class="form-group search-ctrl">
            <input name="target" [(ngModel)]="searchApprovedBy" placeholder="Search ApprovedBy" type="text"
                class="form-control" />
            <i class="fas fa-times" (click)="clearInput()" *ngIf="searchApprovedBy !== ''"></i>
            <i class="flaticon-search fas fa-search"></i>
        </div>
    </div>
</ng-template>
<!-- loader -->
<div class="overlay-main-lab" *ngIf="!labwiseChartLoader">
    <div class="spinner-container-lab">

        <div class="spinner">
            <div class="rect1"></div>
            <div class="rect2"></div>
            <div class="rect3"></div>
            <div class="rect4"></div>
            <div class="rect5"></div>
            <div class="rect6"></div>
            <div class="rect7"></div>
            <div class="rect8"></div>
            <div class="rect9"></div>
        </div>
        <div class="proccessing-text">Loading ...</div>
    </div>
</div>